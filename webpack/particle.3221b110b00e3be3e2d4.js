"use strict";(self.webpackChunk_dg_scripts_webpack_template=self.webpackChunk_dg_scripts_webpack_template||[]).push([[301],{545:(t,s,e)=>{e.d(s,{A:()=>n});class i{static getDefaultProps(){return{x:0,y:0,color:[156,39,176],duration:1e3,speed:{x:10*Math.random()-5,y:10*Math.random()-5},radius:5+5*Math.random(),life:30+10*Math.random()}}constructor(t){const s=i.getDefaultProps(),{x:e,y:a,color:r,duration:n,speed:h,radius:c,life:o}=Object.assign(Object.assign({},s),t);this.startX=e,this.startY=a,this.color=r,this.speed=h,this.radius=c,this.startTime=Date.now(),this.animationDuration=n,this.life=o,this.remainingLife=this.life}draw(t){this.radius>0&&this.remainingLife>0&&(t.save(),t.beginPath(),t.arc(this.startX,this.startY,this.radius,0,2*Math.PI),t.fillStyle=`rgba(${this.color[0]},${this.color[1]},${this.color[2]},1)`,t.fill(),t.closePath(),t.restore(),this.startX+=this.speed.x,this.startY+=this.speed.y,this.radius-=.25,this.remainingLife--)}}const a=i;const r=class{constructor(){this.particles=[]}getParticles(){return this.particles}clearParticles(){for(;this.particles.length;)this.particles.pop()}emit(t){const s=new a(t);this.particles.push(s)}};const n=class{constructor(t=20){this.factory=new r,this.bufferCanvas=document.createElement("canvas"),this.buffer=this.bufferCanvas.getContext("2d"),this.screenCanvas=document.getElementById("canvas"),this.screen=this.screenCanvas.getContext("2d"),this.factor=t,this.init()}init(){this.resize(),this.initStyle(),this.handleClick()}resize(){this.screenCanvas.width=window.innerWidth,this.screenCanvas.height=window.innerHeight,this.bufferCanvas.width=window.innerWidth,this.bufferCanvas.height=window.innerHeight}initStyle(){this.screenCanvas.style.position="absolute",this.screenCanvas.style.top="0",this.screenCanvas.style.left="0",this.screenCanvas.style.zIndex="1001"}handleClick(){this.screenCanvas.addEventListener("click",(t=>{const s=t.clientX,e=t.clientY,i=(a=0,r=255,()=>Math.floor(Math.random()*(r-a))+a);var a,r;for(let n=this.factor;n>0;--n){const t=[i(),i(),i()],a={x:10*Math.random()-5,y:10*Math.random()-5};this.emit({x:s,y:e,color:t,speed:a}),n--}}))}emit({x:t=0,y:s=0,color:e=[156,39,176],speed:i}){this.factory.emit({x:t,y:s,color:e,speed:i})}draw(){this.factory.getParticles().forEach(((t,s,e)=>{if(t.draw(this.buffer),s===e.length-1){(Date.now()-t.startTime)/t.animationDuration>1&&this.factory.clearParticles()}})),this.screen.drawImage(this.bufferCanvas,0,0)}clear(){this.buffer.clearRect(0,0,this.bufferCanvas.width,this.bufferCanvas.height),this.screen.clearRect(0,0,this.screenCanvas.width,this.screenCanvas.height)}update(){this.clear(),this.draw(),window.requestAnimationFrame(this.update.bind(this))}start(){window.requestAnimationFrame(this.update.bind(this))}}}}]);